"use strict";(self.webpackChunkepos=self.webpackChunkepos||[]).push([[291],{432:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(2791),s=r(9434),a=r(9439),i=r(9241),c=r(3793),l=r(7689),o=r(9806),d=r(1632),u=r(4768),m=(r(1150),r(6007),r(1959)),x=r(184),f=function(e){e.customSettingComponent;var t=e.searchBar,r=void 0===t||t,f=e.searchKeyword,h=void 0===f?"":f,p=(e.normalBar,e.disableRealestate,(0,l.s0)()),v=(0,l.TH)(),j=(0,n.useState)(!1),g=(0,a.Z)(j,2),b=(g[0],g[1],(0,s.v9)(u.dy)),y=((0,s.I0)(),(0,n.useState)(h)),w=(0,a.Z)(y,2),N=(w[0],w[1],(0,s.v9)(m._6),(0,n.useState)("")),k=(0,a.Z)(N,2),C=k[0],F=k[1],I=(0,n.useState)(""),S=(0,a.Z)(I,2),D=S[0],T=S[1],Z=(0,n.useState)(!0),E=(0,a.Z)(Z,2),B=E[0],R=E[1];return(0,n.useEffect)((function(){"/"===v.pathname?R(!1):R(!0)}),[v.pathname]),(0,x.jsx)("div",{className:"navbar w-full",children:(0,x.jsx)("div",{className:"flex items-center w-full justify-between",children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.v,{as:"div",className:"relative inline-block text-left nav-menu mr-5 mt-1",children:B&&(0,x.jsx)(i.v.Button,{onClick:function(){p("/")},"data-tip":!0,"data-for":"notificationId",className:"inline-flex w-full justify-center rounded-md text-sm text-gray-400 hover:text-gray-100",children:(0,x.jsx)(o.G,{icon:d.Uu6,className:"text-3xl"})})}),r&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{className:"appearance-none italic bg-transparent border-b border-gray-300 w-[30%] text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",type:"search",placeholder:"Search Product",value:C,onChange:function(e){return F(e.target.value)},onKeyUp:function(e){"Enter"===e.code&&p("/search/product/"+C)}}),(0,x.jsx)("input",{className:"appearance-none italic bg-transparent border-b border-gray-300 w-[30%] text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",type:"search",placeholder:"Search Customer",value:D,onChange:function(e){return T(e.target.value)},onKeyUp:function(e){"Enter"===e.code&&p("/search/customer/"+D)}})]}),(0,x.jsxs)(i.v,{as:"div",className:"relative inline-block text-left nav-menu mt-1",children:[(0,x.jsx)(i.v.Button,{className:"inline-flex w-full justify-center rounded-md text-sm text-gray-400 hover:text-app-black",children:(0,x.jsx)(o.G,{icon:d.ILF,className:"text-4xl"})}),(0,x.jsx)(c.u,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,x.jsx)(i.v.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-sm bg-white shadow-lg ring-2 ring-gray-200 focus:outline-none z-10",children:(0,x.jsxs)("div",{className:"px-1 py-1 ",children:[b&&(0,x.jsx)("div",{className:"bg-[#606060] text-gray-100 py-2 text-center font-bold",children:b.userproxy&&b.userproxy.length>0?b.userproxy[0].username:b.businessname}),(0,x.jsx)(i.v.Item,{children:function(e){var t=e.active;return(0,x.jsxs)("button",{className:"".concat(t?"bg-[#404040] text-white":"text-gray-900"," group  w-full items-center rounded-sm px-2 py-2 text-sm text-center"),onClick:function(){p("/wallet")},children:["Wallet \xa0",(0,x.jsx)("i",{className:"fa fa-right-from-backet",children:"\xa0"})]})}}),(0,x.jsx)(i.v.Item,{children:function(e){var t=e.active;return(0,x.jsxs)("button",{className:"".concat(t?"bg-[#404040] text-white":"text-gray-900"," group  w-full items-center rounded-sm px-2 py-2 text-sm text-center"),onClick:function(e){p("/logout")},children:["Logout \xa0",(0,x.jsx)("i",{className:"fa fa-right-from-backet",children:"\xa0"})]})}})]})})})]})]})})})},h=function(e){var t=e.children,r=e.showNavbar,a=void 0===r||r,i=e.navbarCustomSettingComponent,c=e.layoutClass,l=void 0===c?"bg-app-form-border":c,o=e.searchBar,d=e.searchKeyword,u=e.showNormal,m=void 0!==u&&u,h=e.noRealestate,p=void 0!==h&&h,v=e.classes,j=void 0===v?"":v;(0,s.I0)();return(0,n.useEffect)((function(){}),[]),(0,x.jsxs)("div",{className:"w-full min-h-screen bg-[#404040] ".concat(l),children:[a&&(m?(0,x.jsx)("div",{className:"px-6 md:px-10 lg:px-12 py-2",children:(0,x.jsx)(f,{normalBar:!0,disableRealestate:p})}):(0,x.jsx)("div",{className:"px-6 md:px-10 lg:px-12 py-2",children:(0,x.jsx)(f,{customSettingComponent:i,searchBar:o,searchKeyword:d,disableRealestate:p})})),(0,x.jsx)("div",{className:"".concat(j),children:t})]})}},9e3:function(e,t,r){var n=r(9439),s=r(2791),a=r(7689),i=r(3793),c=r(9593),l=r(9434),o=(r(7561),r(184));t.Z=function(e){var t=e.isModal,r=e.setIsModal,d=e.cartsLink,u=e.registerFlag,m=e.handleRegister,x=(0,a.s0)(),f=((0,l.I0)(),(0,s.useState)("")),h=(0,n.Z)(f,2),p=h[0],v=h[1],j=function(){u?m(p):x(d+"/"+p),r(!1)};return(0,s.useEffect)((function(){t&&v("")}),[t]),(0,o.jsx)(i.u,{appear:!0,show:t,as:s.Fragment,children:(0,o.jsxs)(c.V,{as:"div",onClose:function(){},className:"relative z-50",children:[(0,o.jsx)(i.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-[#FFFFFF44]","aria-hidden":"true"})}),(0,o.jsx)("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center ",children:(0,o.jsx)(i.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,o.jsx)(c.V.Panel,{className:" max-w-full transform transition-all md:max-w-full",children:(0,o.jsxs)("div",{className:"relative bg-[#404040] w-[30vw] max-w-[1000px] min-w-[380px] min-h-[160px] rounded-[1rem] drop-shadow-md p-6 text-center shadow-xl",children:[(0,o.jsx)("div",{className:"",children:(0,o.jsx)("h1",{className:"text-md text-left text-[#D9D9D9] select-none",children:"Enter a name for the saved order:"})}),(0,o.jsx)("div",{className:"min-h-[2rem] pb-[0.5rem]",children:(0,o.jsx)("input",{className:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",type:"text",value:p,onChange:function(e){return v(e.target.value)},onKeyUp:function(e){return function(e){"Enter"===e.code&&j()}(e)}})}),(0,o.jsxs)("div",{className:"absolute right-6 bottom-4",children:[(0,o.jsx)("button",{className:"w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#404040] border border-[#D9D9D9] text-gray-100 mr-6",onClick:function(){return r(!1)},children:"Cancel"}),(0,o.jsx)("button",{className:"w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#D9D9D9] text-gray-800",onClick:function(){return j()},children:"Confirm"})]})]})})})})]})})}},8675:function(e,t,r){var n=r(9439),s=r(2791),a=r(4768),i=r(5759),c=r(9434),l=r(9806),o=r(1632),d=r(7492),u=r(7577),m=r(5169),x=r(2057),f=r(1840),h=r(9e3),p=r(5135),v=r(184);t.Z=function(){var e=(0,c.I0)(),t=(0,c.v9)(a.dy),r=(0,c.v9)(i.T),j=(0,c.v9)(i.l$),g=(0,c.v9)(d.nR),b=(0,c.v9)(i.$D),y=(0,c.v9)(i.FW),w=(0,c.v9)(i.H5),N=(0,s.useState)(0),k=(0,n.Z)(N,2),C=k[0],F=k[1],I=(0,s.useState)(!1),S=(0,n.Z)(I,2),D=S[0],T=S[1],Z=(0,c.v9)(p.uj),E=(0,c.v9)(p.iq),B=(0,c.v9)(p.Dz),R=(0,c.v9)(p.mY),G=(0,c.v9)(p.vv),K=(0,c.v9)(p.P4);(0,s.useEffect)((function(){e((0,d.Xp)())}),[]),(0,s.useEffect)((function(){var e=0;r.map((function(t,r){var n=$(t.productId);e=(0,u.pD)(e,(0,u.J$)(n.price,t.amount))})),F(e)}),[j]);var $=function(e){return g.filter((function(t){return t._id===e}))[0]},J=[(0,v.jsx)("div",{className:"w-full h-full overflow-x-auto text-[#404040]",children:r.map((function(t,r){var n=$(t.productId);return(0,v.jsxs)("div",{className:"border-b border-gray-900 py-4",children:[(0,v.jsxs)("div",{className:"flex justify-between text-md",children:[(0,v.jsx)("div",{children:n.name}),(0,v.jsx)("div",{children:n.price.toFixed(2)})]}),(0,v.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,v.jsxs)("div",{children:["SKU: ",n.sku]}),(0,v.jsxs)("div",{className:"flex justify-center items-center",children:[(0,v.jsx)(l.G,{icon:o.Kl4,className:"cursor-pointer",onClick:function(){return function(t){var r={productId:t._id,amount:-1};e((0,i.JD)(r))}(n)}}),(0,v.jsx)("p",{className:"px-2 select-none",children:t.amount}),(0,v.jsx)(l.G,{icon:o.r8p,className:"cursor-pointer",onClick:function(){return function(t){var r={productId:t._id,amount:1};e((0,i.JD)(r))}(n)}})]})]})]},r)}))}),(0,v.jsx)("div",{className:"w-full h-full grid grid-cols-2 gap-2 text-center py-[2rem] px-[2rem]",children:m.tO.map((function(t,r){var n=function(e){var t=!1;switch(e){case 0:t=Z;break;case 1:t=E;break;case 2:t=B;break;case 3:t=R;break;case 4:t=G;break;case 5:t=K}return t}(r);return n?(0,v.jsx)("div",{onClick:function(){return t=r,void e((0,i.LV)(t));var t},className:"w-[8rem] h-[8rem] flex justify-center items-center ".concat(y===r?"bg-[#B9B9B9]":""," border border-[#404040] text-[#404040] rounded-[1rem] select-none cursor-pointer"),children:(0,v.jsx)("p",{className:"w-[60%]",children:t})},r):(0,v.jsx)("div",{},r)}))}),(0,v.jsxs)("div",{className:"w-full h-full",children:[(0,v.jsx)("div",{className:"w-full h-[5rem]"}),(0,v.jsx)("div",{className:"w-full flex justify-center",children:(0,v.jsx)(x.tv,{value:t?t.walpublic:"0x0000000000",level:"H",size:256})}),(0,v.jsxs)("div",{className:"w-full text-center",children:[(0,v.jsx)("p",{className:"text-red-600 text-md my-[1rem]",children:"Please ensure block is confirmed before parting with goods/rendering services."}),t&&(0,v.jsxs)("p",{className:"text-[#404040] font-bold text-md my-[1rem]",children:["Check status of transaction here: ",(0,v.jsx)("a",{href:"".concat(m.Qf[y]).concat(t.walpublic),children:"".concat(m.Qf[y]).concat(t.walpublic)})]})]})]})],W=(0,s.useState)(0),H=(0,n.Z)(W,2),U=H[0],_=H[1],L=J.reduce((function(e,t,r){return e[r]=(0,s.createRef)(),e}),{}),V=J.length,z=function(e){_(e),L[e].current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},M=function(){if(0===U){if(0===r.length)return void e((0,f.jW)({message:"Empty orders.",status:"error"}));if(!w)return void e((0,f.jW)({message:"Select customer.",status:"error"}))}2===U&&e((0,i.HT)()),z(U>=V-1?0:U+1)},P=function(){z(0!==U?U-1:V-1)};return(0,v.jsxs)("div",{className:"bg-[#D9D9D9] h-[calc(100vh-80px)] w-[0px] sm:w-[360px] md:w-[360px] lg:w-[360px] xl:w-[360px] transition-all",children:[(0,v.jsxs)("div",{className:"w-full h-full relative",children:[(0,v.jsxs)("div",{className:"w-full h-[2rem] flex items-center text-[#404040]",children:[0!==U&&(0,v.jsx)("button",{className:"w-[2rem] h-[2rem] text-md rounded-[6px] leading-[2rem] text-[#404040]",onClick:function(){return P()},children:(0,v.jsx)(l.G,{icon:o.Uu6})}),0===U&&(0,v.jsx)("button",{className:"w-[2rem] h-[2rem] text-md rounded-[6px] leading-[2rem] text-[#404040]",children:(0,v.jsx)(l.G,{icon:o.ILF})}),(0,v.jsx)("p",{children:function(){var e="";switch(U){case 0:e=w?w.businessname:"";break;case 1:e="Select crypto:";break;case 2:e="Customer to scan QR to complete order:"}return e}()})]}),(0,v.jsx)("div",{className:"w-full h-[68vh] px-4",children:(0,v.jsx)("div",{className:"relative w-full h-full",children:(0,v.jsx)("div",{className:"carousel w-full h-full",children:J.map((function(e,t){return(0,v.jsx)("div",{className:"w-full h-full flex-shrink-0",ref:L[t],children:e},t)}))})})}),(0,v.jsxs)("div",{className:"w-full absolute bottom-0 px-6 py-2 text-[#404040]",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("p",{children:"Subtotal"}),(0,v.jsx)("p",{children:C.toFixed(2)})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsxs)("p",{children:["VAT (@",(0,u.J$)(b,100),"%)"]}),(0,v.jsx)("p",{children:(0,u.J$)(C,b).toFixed(2)})]}),(0,v.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,v.jsx)("p",{children:"Total"}),(0,v.jsx)("p",{children:(0,u.pD)(C,(0,u.J$)(C,-b)).toFixed(2)})]}),(0,v.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,v.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,v.jsx)("button",{className:"w-[2rem] h-[2rem] text-md rounded-[6px] leading-[2rem] bg-[#404040] text-gray-100",onClick:function(){e((0,i.HT)())},children:(0,v.jsx)(l.G,{icon:o.$aW})}),(0,v.jsx)("button",{className:"w-[2rem] h-[2rem] text-md rounded-[6px] leading-[2rem] bg-[#404040] text-gray-100",onClick:function(){0!==r.length?w?T(!0):e((0,f.jW)({message:"Select customer.",status:"error"})):e((0,f.jW)({message:"Empty orders.",status:"error"}))},children:(0,v.jsx)(l.G,{icon:o.EdJ})})]}),(0,v.jsx)("button",{className:"w-[9rem] h-[2rem] text-md rounded-[6px] leading-[2rem] bg-[#404040] text-gray-100",onClick:function(){return M()},children:function(){var e="";switch(U){case 0:e="Checkout";break;case 1:e="Generate QR";break;case 2:e="Complete Order"}return e}()})]})]})]}),(0,v.jsx)(h.Z,{isModal:D,setIsModal:T,registerFlag:!0,handleRegister:function(n){var s={name:n,merchantId:t._id,customerId:w._id,order:r,coinType:y,coinAmount:(0,u.d$)(y,C,b)};e((0,i.F5)(0,s)),e((0,i.HT)())}})]})}}}]);
//# sourceMappingURL=291.5ebd0006.chunk.js.map