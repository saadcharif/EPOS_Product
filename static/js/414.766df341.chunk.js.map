{"version":3,"file":"static/js/414.766df341.chunk.js","mappings":"kOAuGA,UA1Fe,YACIA,EAAAA,EAAAA,MAAjB,IACMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IACrBC,GAAWF,EAAAA,EAAAA,IAAYG,EAAAA,KAE7BC,EAAAA,EAAAA,YAAU,WACRP,GAASQ,EAAAA,EAAAA,MACV,GAAE,IAEH,IAAMC,EAAa,SAACC,GAElB,OADUL,EAASM,QAAO,SAACC,GAAD,OAAOA,EAAEC,MAAQH,CAAjB,IACjB,EACV,EAEKI,EAAgB,SAACC,GAErB,IADA,IAAIC,EAAM,EACDC,EAAI,EAAGA,EAAIF,EAAUG,OAAQD,IAAK,CACzC,IAAME,EAAIV,EAAWM,EAAUE,GAAGG,WAClCJ,GAAMK,EAAAA,EAAAA,IAASL,GAAKM,EAAAA,EAAAA,IAASH,EAAEI,MAAOR,EAAUE,GAAGO,QACpD,CACD,OAAOR,CACR,EAED,OACE,SAAC,IAAD,CAAQS,QAAS,sBAAjB,UACI,iBAAKC,UAAU,gBAAf,WACI,iBAAKA,UAAU,8BAAf,WACE,iBAAKA,UAAU,mEAAf,WACE,SAAC,IAAD,CAAiBC,KAAMC,EAAAA,OACvB,cAAGF,UAAU,iBAAb,wBAEF,gBAAKA,UAAU,0EAAf,SAEIxB,EAAO2B,KAAI,SAACC,EAAOC,GACjB,IAAMhB,EAAYiB,KAAKC,MAAMH,EAAMA,MAAMA,OACzC,OACE,iBAAiBJ,UAAU,qCAA3B,WACE,kBAAOQ,KAAK,cACZ,iBAAKR,UAAU,2EAA2ES,MAAO,CAACC,UAAW,OAA7G,WACE,gBAAKV,UAAU,oBAAf,SAAoCK,EAAQ,KAC5C,gBAAKL,UAAU,sBAAf,SAAsCI,EAAMO,SAASC,SAAWR,EAAMO,SAASC,SAAWR,EAAMO,SAASE,gBACzG,gBAAKb,UAAU,sBAAf,SAAsCI,EAAMU,SAASF,YACrD,gBAAKZ,UAAU,sEAAf,UAAqF,SAAC,IAAD,CAAiBC,KAAMc,EAAAA,YAE9G,iBAAKf,UAAU,0CAAf,UAEIX,EAAUc,KAAI,SAACa,EAAGzB,GAChB,IAAME,EAAIV,EAAWiC,EAAEtB,WACvB,OACE,gBAAyBM,UAAU,OAAnC,UACI,iBAAKA,UAAU,+BAAf,WACI,yBAAMP,EAAEwB,QACR,yBAAMxB,EAAEI,YAHNN,EAAE,IAAMc,EAOrB,KAEH,iBAAKL,UAAU,wEAAf,WACI,uCACA,yBAAMZ,EAAcC,SAExB,iBAAKW,UAAU,8CAAf,WACI,+CACA,2BAAMI,EAAMA,MAAMc,WAAlB,IAA+BC,EAAAA,GAAWf,EAAMA,MAAMgB,iBAE1D,iBAAKpB,UAAU,4BAAf,WACE,mBACIA,UAAS,yGADb,qCAIA,mBACIA,UAAS,gGADb,4BAnCIK,EA2Cb,UAIP,SAAC,IAAD,QAIX,C","sources":["pages/dashboard/merchant_group/orders.jsx"],"sourcesContent":["import {useState} from 'react';\r\nimport Layout from '../../../components/Layout';\r\nimport Sidebar from '../sidebar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHome, faCaretDown, faCaretUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { selectSaleOrders, getOrdersBySale } from '../../../redux/orderReducer';\r\nimport { selectProducts } from '../../../redux/productReducer';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { floatAdd, floatMul } from '../../../utils/utils';\r\nimport { COIN_TYPES } from '../../../config/constants';\r\n\r\nconst Orders = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const orders = useSelector(selectSaleOrders);\r\n  const products = useSelector(selectProducts);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrdersBySale());\r\n  }, []);\r\n\r\n  const getProduct = (id) => {\r\n    const p = products.filter((e) => e._id === id);\r\n    return p[0];\r\n  }\r\n\r\n  const getOrderPrice = (orderlist) => {\r\n    let ret = 0;\r\n    for (let i = 0; i < orderlist.length; i++) {\r\n      const p = getProduct(orderlist[i].productId);\r\n      ret = floatAdd(ret, floatMul(p.price, orderlist[i].amount));\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  return (\r\n    <Layout classes={'bg-[#404040] h-full'}>\r\n        <div className='flex flex-row'>\r\n            <div className=\"w-full h-[calc(100vh-80px)]\">\r\n              <div className='text-gray-100 text-2xl flex flex-row items-center px-[2rem] mt-6'>\r\n                <FontAwesomeIcon icon={faHome}/>\r\n                <p className='ml-2 font-bold'>Orders</p>\r\n              </div>\r\n              <div className='text-md text-gray-100 mt-8 h-[calc(100vh-112px-3.5rem)] overflow-y-auto'>\r\n                {\r\n                  orders.map((order, index) => {\r\n                    const orderlist = JSON.parse(order.order.order);\r\n                    return (\r\n                      <div key={index} className=\"collapse border-b border-[#444444]\">\r\n                        <input type=\"checkbox\" /> \r\n                        <div className='collapse-title w-full flex items-center bg-[#333333] px-[2rem] py-[0rem]' style={{minHeight: '0px'}}>\r\n                          <div className='w-[10%] text-left'>{index + 1}</div>\r\n                          <div className='w-[40%] text-center'>{order.merchant.username ? order.merchant.username : order.merchant.businessname}</div>\r\n                          <div className='w-[40%] text-center'>{order.customer.username}</div>\r\n                          <div className='w-[10%] collapse-title text-right cursor-pointer py-[1rem] pr-[0px]'><FontAwesomeIcon icon={faCaretDown}/></div>\r\n                        </div>\r\n                        <div className=\"collapse-content bg-[#333333] px-[2rem]\"> \r\n                          {\r\n                            orderlist.map((o, i) => {\r\n                              const p = getProduct(o.productId);\r\n                              return (\r\n                                <div key={i+20000*index} className=\"py-1\">    \r\n                                    <div className='flex justify-between text-md'>\r\n                                        <div>{p.name}</div>\r\n                                        <div>{p.price}</div>\r\n                                    </div>\r\n                                </div>\r\n                              );\r\n                            })\r\n                          }\r\n                          <div className='flex justify-between py-1 text-md font-bold border-t border-[#464646]'>\r\n                              <div>SUBTOTAL</div>\r\n                              <div>{getOrderPrice(orderlist)}</div>\r\n                          </div>\r\n                          <div className='flex justify-between py-1 text-md font-bold'>\r\n                              <div>CRYPTO RECEIVED:</div>\r\n                              <div>{order.order.coinAmount} {COIN_TYPES[order.order.coinType]}</div>\r\n                          </div>\r\n                          <div className='flex justify-between mt-2'>\r\n                            <button \r\n                                className={`min-w-[6rem] h-[2rem] text-md leading-[2rem] bg-[#333333] border-b border-[#D9D9D9] text-gray-100 mr-6`}            \r\n                                \r\n                            >Print Customer Receipt</button>\r\n                            <button \r\n                                className={`px-2 min-w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#D9D9D9] text-gray-800`}            \r\n                                \r\n                            >Refund</button>\r\n                          </div> \r\n                        </div>   \r\n                      </div>\r\n                    );\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n            <Sidebar />\r\n        </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Orders;"],"names":["useNavigate","dispatch","useDispatch","orders","useSelector","selectSaleOrders","products","selectProducts","useEffect","getOrdersBySale","getProduct","id","filter","e","_id","getOrderPrice","orderlist","ret","i","length","p","productId","floatAdd","floatMul","price","amount","classes","className","icon","faHome","map","order","index","JSON","parse","type","style","minHeight","merchant","username","businessname","customer","faCaretDown","o","name","coinAmount","COIN_TYPES","coinType"],"sourceRoot":""}